@model BookStore_Client.Models.HomeViewModel

@{
    ViewData["Title"] = "Home Page";
}

<section id="section-blog" class="blog-section">
    <div class="container">
        <div class="row gx-5 gy-4">
            <div class="col-md-9">
                <div class="row row-cols-2 row-cols-md-3 gx-4 gy-4">
                    <!-- Dynamic Products using Book Model -->
                    @foreach (var book in Model.Books)
                    {
                        <div class="col">
                            <div class="bg-white p-3 bordered-shadow product-item">
                                @if (!string.IsNullOrEmpty(book.ImageURL))
                                {
                                    <img src="@book.ImageURL" alt="@book.Title" class="img-fluid product-image" width="310" height="475" />
                                }
                                else
                                {
                                    <img src="/images/shop/product-image.png" alt="Product Image" class="img-fluid product-image" width="310" height="475" />
                                }
                                <p class="py-2">@(book.Category?.CategoryName ?? "Uncategorized")</p>
                                <a href="@Url.Action("Detail", "Home", new { id = book.BookID })" class="text-decoration-none">
                                    <h3>@book.Title</h3>
                                </a>
                                <div class="d-flex justify-content-between pt-1">
                                    <h4 class="text-primary">@(book.Price?.ToString("C") ?? "N/A")</h4>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>

            <!-- Sidebar Start -->
            <div class="col-md-3 d-flex flex-column gap-4 border rounded-2 p-4 sidebar">
                <!-- Search Box -->
                <div class="search-box">
                    <input type="search" class="form-control ps-4" name="s" placeholder="Search...">
                    <i class="bi bi-search"></i>
                </div>

                <!-- Popular Category using Category Model -->
                <div class="blog-category">
                    <h3 class="py-3 border-bottom">Popular Category</h3>
                    <ul class="mt-3 ps-0">
                        @foreach (var category in Model.Categories)
                        {
                            <li class="list-unstyled"><a href="#" class="ms-2">@category.CategoryName</a></li>
                        }
                    </ul>
                </div>

                <!-- Recent Posts -->
                <div class="blog-posts">
                    <h3 class="py-3 border-bottom">Our Recent Books</h3>
                    <div class="d-flex responsive-wrap gap-3 border-bottom py-4">
                        <img src="/images/shop/recent-book-1.png" class="img-fluid" alt="Post Thumbnail">
                        <div class="d-flex flex-column gap-2">
                            <a href="product-single.html">
                                <h6>Hans Christian Andersen</h6>
                            </a>
                            <span>$35.00</span>
                        </div>
                    </div>

                    <div class="d-flex responsive-wrap gap-3 border-bottom py-4">
                        <img src="/images/shop/recent-book-2.png" class="img-fluid" alt="Post Thumbnail">
                        <div class="d-flex flex-column gap-2">
                            <a href="blog-single.html">
                                <h6>Hans Christian Andersen</h6>
                            </a>
                            <span>$35.00</span>
                        </div>
                    </div>

                    <div class="d-flex responsive-wrap gap-3 py-4">
                        <img src="/images/shop/recent-book-3.png" class="img-fluid" alt="Post Thumbnail">
                        <div class="d-flex flex-column gap-2">
                            <a href="blog-single.html">
                                <h6>Hans Christian Andersen</h6>
                            </a>
                            <span>$35.00</span>
                        </div>
                    </div>
                </div>

                <!-- Post Tags -->
                <div>
                    <h3 class="py-3 border-bottom">BookPress Tags</h3>
                    <span class="d-block mt-3">
                        Biography, bestseller, adventure, biography Design, Fiction, Novel,
                        Books
                    </span>
                </div>

                <!-- Social Links -->
                <div class="social-links">
                    <h3 class="py-3 border-bottom">Follows Us:</h3>
                    <ul class="mt-3 d-flex gap-4 ps-0">
                        <li class="list-unstyled">
                            <a href="#" target="_blank">
                                <i class="fa-brands fa-facebook-f"></i>
                            </a>
                        </li>
                        <li class="list-unstyled">
                            <a href="#" target="_blank">
                                <i class="fa-brands fa-twitter"></i>
                            </a>
                        </li>
                        <li class="list-unstyled">
                            <a href="#" target="_blank">
                                <i class="fa-brands fa-linkedin-in"></i>
                            </a>
                        </li>
                        <li class="list-unstyled">
                            <a href="#" target="_blank">
                                <i class="fa-brands fa-instagram"></i>
                            </a>
                        </li>
                    </ul>
                </div>

            </div><!-- Sidebar End -->
        </div>

        <!-- Pagination -->
        <div class="pagination-wrap my-7">
            <ul class="d-flex justify-content-start align-items-center gap-3 ps-0">
                <li><a href="#">1</a></li>
                <li class="active"><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5</a></li>
            </ul>
        </div>

    </div>
</section>
<!-- Blog Section End -->
@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}